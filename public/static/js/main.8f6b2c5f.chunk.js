(this["webpackJsonpcourse-file"]=this["webpackJsonpcourse-file"]||[]).push([[0],{69:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(30),s=c.n(r),i=(c(69),c(6)),l=c(11),o=c(7),d=(c(58),c(59),c(91),o.a.initializeApp({apiKey:"AIzaSyBylff5FmD4_64g7KkEt065zahRpm2l7Hc",authDomain:"digital-course-file.firebaseapp.com",databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBylff5FmD4_64g7KkEt065zahRpm2l7Hc",REACT_APP_FIREBASE_APP_ID:"1:459962577891:web:227a67eaca784dcc4726d6",REACT_APP_FIREBASE_AUTH_DOMAIN:"digital-course-file.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-D2HMXLPPSG",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"459962577891",REACT_APP_FIREBASE_PROJECT_ID:"digital-course-file",REACT_APP_FIREBASE_STORAGE_BUCKET:"digital-course-file.appspot.com"}).REACT_APP_FIREBASE_DATABASE_URL,projectId:"digital-course-file",storageBucket:"digital-course-file.appspot.com",messagingSenderId:"459962577891",appId:"1:459962577891:web:227a67eaca784dcc4726d6"})),j=d.auth(),u=d.firestore(),b={folders:u.collection("folders"),files:u.collection("files"),users:u.collection("users"),feedback:u.collection("feedback"),messages:u.collection("messages"),formatDoc:function(e){return Object(l.a)({id:e.id},e.data())},getCurrentTimestamp:o.a.firestore.FieldValue.serverTimestamp},h={signInFlow:"popup",signInOptions:[o.a.auth.GoogleAuthProvider.PROVIDER_ID,o.a.auth.FacebookAuthProvider.PROVIDER_ID,o.a.auth.TwitterAuthProvider.PROVIDER_ID,o.a.auth.GithubAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}},m=d.storage(),O=c(15),f=c(0),x=a.a.createContext();function p(){return Object(n.useContext)(x)}function v(e){var t=e.children,c=Object(n.useState)(),a=Object(i.a)(c,2),r=a[0],s=a[1],l=Object(O.f)();Object(n.useEffect)((function(){return j.onAuthStateChanged((function(e){s(e),l.push("/")}))}),[l]);var o={curUser:r,login:function(e,t){return j.signInWithEmailAndPassword(e,t)},signup:function(e,t){return j.createUserWithEmailAndPassword(e,t)},logout:function(){return j.signOut()},resetPassword:function(e){return j.sendPasswordResetEmail(e)},updateEmail:function(e){return r.updateEmail(e)},updatePassword:function(e){return r.updatePassword(e)}};return Object(f.jsx)(x.Provider,{value:o,children:t})}var g=c(13),N=c(49),w=c(21),y=c.n(w),S=c(29),E=c(94),k=c(101),C=c(98),A=c(97),P=c.p+"static/media/2.07c20396.PNG",R=c.p+"static/media/1.e188d54e.PNG",I=c(46),F=c.n(I);function D(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),a=p().signup,r=Object(n.useState)(""),s=Object(i.a)(r,2),l=s[0],o=s[1],d=Object(n.useState)(!1),u=Object(i.a)(d,2),b=u[0],m=u[1],x=Object(O.f)();function v(){return(v=Object(S.a)(y.a.mark((function n(r){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),t.current.value===c.current.value){n.next=3;break}return n.abrupt("return",o("Passwords do not match"));case 3:return n.prev=3,o(""),m(!0),n.next=8,a(e.current.value,t.current.value);case 8:x.push("/"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),o(n.t0.message);case 14:m(!1);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}return Object(f.jsxs)("div",{className:"login",children:[Object(f.jsx)("h1",{children:"V A U L T"}),Object(f.jsx)(E.a,{className:"d-flex align-items-center height-100vh",children:Object(f.jsxs)("div",{className:"w-100 size-400",children:[Object(f.jsx)(k.a,{children:Object(f.jsxs)(k.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),l&&Object(f.jsx)(C.a,{variant:"danger",children:l}),Object(f.jsxs)(A.a,{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(f.jsxs)(A.a.Group,{id:"email",children:[Object(f.jsx)("img",{src:P,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"email",ref:e,required:!0})]}),Object(f.jsxs)(A.a.Group,{id:"password",children:[Object(f.jsx)("img",{src:R,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"password",ref:t,required:!0})]}),Object(f.jsxs)(A.a.Group,{id:"password-confirm",children:[Object(f.jsx)("img",{src:R,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"password",ref:c,required:!0})]}),Object(f.jsx)("div",{className:"box-3",children:Object(f.jsx)("button",{disabled:b,type:"submit",className:"btn btn-three w-100",children:Object(f.jsx)("span",{children:"SIGN UP"})})})]})]})}),Object(f.jsx)("div",{className:"w-100 text-center mt-2 form-txt",children:Object(f.jsx)(g.b,{to:"/login",children:"Already have an account? Login"})}),Object(f.jsx)(F.a,{uiConfig:h,firebaseAuth:j})]})})]})}var _=c(95);function T(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],r=p(),s=r.curUser,l=r.logout,o=Object(n.useState)(""),d=Object(i.a)(o,2),j=d[0],u=d[1],h=Object(n.useState)(""),m=Object(i.a)(h,2),x=m[0],v=m[1],N=Object(n.useState)(""),w=Object(i.a)(N,2),E=w[0],A=w[1],P=Object(O.f)();function R(){return(R=Object(S.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,P.push("/login"),e.next=5,l();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){b.users.where("user","==",s.uid).get().then((function(e){e.forEach((function(e){u(e.data().name),v(e.data().ph),A(e.data().org)}))})).catch((function(e){console.log("Error getting documents: ",e)}))}),[s]),Object(f.jsxs)("div",{className:"profile",children:[Object(f.jsx)("div",{className:"back-btn",children:Object(f.jsx)(_.a,{to:"/",variant:"outline-light",className:"text-truncate w-100",as:g.b,children:Object(f.jsx)("span",{className:"btn-label",children:"Back"})})}),Object(f.jsx)(k.a,{children:Object(f.jsxs)(k.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),c&&Object(f.jsx)(C.a,{variant:"danger",children:c}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Email:"})," ",s.email]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Name:"})," ",j]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Phone Number:"})," ",x]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Organization:"})," ",E]}),Object(f.jsx)(g.b,{to:"/update-profile",className:"box3",children:Object(f.jsx)("button",{className:"btn btn-three w-100 mt-3",children:Object(f.jsx)("span",{children:"UPDATE PROFILE"})})})]})}),Object(f.jsx)("div",{className:"w-100 text-center mt-2",children:Object(f.jsx)(_.a,{className:"logout-btn",variant:"link",onClick:function(){return R.apply(this,arguments)},children:"Log Out"})})]})}function G(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=p().login,a=Object(n.useState)(""),r=Object(i.a)(a,2),s=r[0],l=r[1],o=Object(n.useState)(!1),d=Object(i.a)(o,2),u=d[0],b=d[1],m=Object(O.f)();function x(){return(x=Object(S.a)(y.a.mark((function n(a){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,l(""),b(!0),n.next=6,c(e.current.value,t.current.value);case 6:m.push("/"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0),l(n.t0.message);case 13:b(!1);case 14:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}return Object(f.jsxs)("div",{className:"login",children:[Object(f.jsx)("h1",{children:"V A U L T"}),Object(f.jsx)(E.a,{className:"d-flex align-items-center height-100vh",children:Object(f.jsxs)("div",{className:"w-100 size-400",children:[Object(f.jsx)(k.a,{children:Object(f.jsxs)(k.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Login"}),s&&Object(f.jsx)(C.a,{variant:"danger",children:s}),Object(f.jsxs)(A.a,{onSubmit:function(e){return x.apply(this,arguments)},children:[Object(f.jsxs)(A.a.Group,{id:"email",children:[Object(f.jsx)("img",{src:P,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"email",ref:e,required:!0})]}),Object(f.jsxs)(A.a.Group,{id:"password",children:[Object(f.jsx)("img",{src:R,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"password",ref:t,required:!0})]}),Object(f.jsx)("div",{className:"box-3",children:Object(f.jsx)("button",{disabled:u,type:"submit",className:"btn btn-three w-100",children:Object(f.jsx)("span",{children:"LOGIN"})})})]}),Object(f.jsx)("div",{className:"w-100 text-center mt-3 form-txt",children:Object(f.jsx)(g.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(f.jsx)("div",{className:"w-100 text-center mt-2 form-txt",children:Object(f.jsx)(g.b,{to:"/signup",children:"New user? Sign Up"})}),Object(f.jsx)(F.a,{uiConfig:h,firebaseAuth:j})]})})]})}var L=c(64);function U(e){var t=e.component,c=Object(L.a)(e,["component"]),n=p().curUser;return Object(f.jsx)(O.b,Object(l.a)(Object(l.a)({},c),{},{render:function(e){return n?Object(f.jsx)(t,Object(l.a)({},e)):Object(f.jsx)(O.a,{to:"/login"})}}))}function B(){var e=Object(n.useRef)(),t=p().resetPassword,c=Object(n.useState)(""),a=Object(i.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),d=o[0],j=o[1],u=Object(n.useState)(!1),b=Object(i.a)(u,2),h=b[0],m=b[1];function O(){return(O=Object(S.a)(y.a.mark((function c(n){return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,j(""),s(""),m(!0),c.next=7,t(e.current.value);case 7:j("Check your inbox for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),s("Failed to reset password");case 13:m(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(f.jsx)("div",{className:"login",children:Object(f.jsx)(E.a,{className:"d-flex align-items-center  height-100vh",children:Object(f.jsxs)("div",{className:"w-100 size-400",children:[Object(f.jsx)(k.a,{children:Object(f.jsxs)(k.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),r&&Object(f.jsx)(C.a,{variant:"danger",children:r}),d&&Object(f.jsx)(C.a,{variant:"success",children:d}),Object(f.jsxs)(A.a,{onSubmit:function(e){return O.apply(this,arguments)},children:[Object(f.jsxs)(A.a.Group,{id:"email",children:[Object(f.jsx)(A.a.Label,{children:"Email"}),Object(f.jsx)("input",{className:"form-input",type:"email",ref:e,required:!0})]}),Object(f.jsx)("div",{className:"box-3",children:Object(f.jsx)("button",{disabled:h,type:"submit",className:"btn btn-three w-100",children:Object(f.jsx)("span",{children:"RESET PASSWORD"})})})]}),Object(f.jsx)("div",{className:"w-100 text-center form-txt mt-3",children:Object(f.jsx)(g.b,{to:"/login",children:"Login"})})]})}),Object(f.jsxs)("div",{className:"w-100 text-center mt-2 form-txt",children:["Need an account? ",Object(f.jsx)(g.b,{to:"/signup",children:"Sign Up"})]})]})})})}var z=c.p+"static/media/ph.3eff2364.PNG",M=c.p+"static/media/name.f734b6ed.PNG",H=c.p+"static/media/profile.e58b0c61.jpg";function W(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),a=p(),r=a.curUser,s=a.updatePassword,l=a.updateEmail,o=Object(n.useState)(""),d=Object(i.a)(o,2),j=d[0],u=d[1],h=Object(n.useState)(!1),x=Object(i.a)(h,2),v=x[0],N=x[1],w=Object(n.useState)(""),y=Object(i.a)(w,2),S=y[0],E=y[1],I=Object(O.f)(),F=Object(n.useState)(""),D=Object(i.a)(F,2),_=D[0],T=D[1],G=Object(n.useState)(""),L=Object(i.a)(G,2),U=L[0],B=L[1],W=Object(n.useState)(""),V=Object(i.a)(W,2),q=V[0],K=V[1];return Object(n.useEffect)((function(){b.users.where("user","==",r.uid).get().then((function(e){e.forEach((function(e){B(e.data().ph),T(e.data().name),K(e.data().org),E(e.data().profile)}))})).catch((function(e){console.log("Error getting documents: ",e)}))}),[r]),Object(f.jsxs)("div",{className:"profile",children:[Object(f.jsx)(k.a,{children:Object(f.jsxs)(k.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),j&&Object(f.jsx)(C.a,{variant:"danger",children:j}),Object(f.jsxs)(A.a,{onSubmit:function(n){if(n.preventDefault(),t.current.value!==c.current.value)return u("Passwords do not match");var a=[];N(!0),u(""),e.current.value!==r.email&&a.push(l(e.current.value)),t.current.value&&a.push(s(t.current.value)),b.users.where("user","==",r.uid).get().then((function(e){e.empty&&b.users.add({name:_,ph:U,org:q,user:r.uid,email:r.email}),e.forEach((function(e){b.users.doc(e.id).update({name:_,ph:U,org:q,user:r.uid,email:r.email})}))})).catch((function(e){console.log("Error getting documents: ",e)})),Promise.all(a).then((function(){I.push("/profile")})).catch((function(){u("Failed to update account")})).finally((function(){N(!1)}))},children:[Object(f.jsxs)("label",{htmlFor:"photo-upload",className:"custom-file-upload fas",children:[Object(f.jsx)("div",{className:"img-wrap img-upload",children:Object(f.jsx)("img",{src:S||H,alt:"profile"})}),Object(f.jsx)("input",{id:"photo-upload",type:"file",onChange:function(e){return function(e){var t=e.target.files[0];m.ref("/users/".concat(r.uid)).put(t).then((function(e){e.ref.getDownloadURL().then((function(e){console.log(e),b.users.where("user","==",r.uid).get().then((function(t){t.forEach((function(t){b.users.doc(t.id).update("profile",e).then((function(t){return E(e)}))}))}))}))}))}(e)}})]}),Object(f.jsxs)(A.a.Group,{id:"email",children:[Object(f.jsx)(A.a.Label,{children:"Email"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:P,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"email",ref:e,required:!0,defaultValue:r.email})]})]}),Object(f.jsxs)(A.a.Group,{id:"password",children:[Object(f.jsx)(A.a.Label,{children:"Password"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:R,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"password",ref:t,placeholder:"Leave blank to keep the same"})]})]}),Object(f.jsxs)(A.a.Group,{id:"password-confirm",children:[Object(f.jsx)(A.a.Label,{children:"Password Confirmation"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:R,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"password",ref:c,placeholder:"Leave blank to keep the same"})]})]}),Object(f.jsxs)(A.a.Group,{id:"name",children:[Object(f.jsx)(A.a.Label,{children:"Name"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:M,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"text",placeholder:"Enter your name",value:_,name:"name",onChange:function(e){return T(e.target.value)}})]})]}),Object(f.jsxs)(A.a.Group,{id:"name",children:[Object(f.jsx)(A.a.Label,{children:"Organization"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:M,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"text",placeholder:"Enter your orgnaization",value:q,name:"org",onChange:function(e){return K(e.target.value)}})]})]}),Object(f.jsxs)(A.a.Group,{id:"contact-no",children:[Object(f.jsx)(A.a.Label,{children:"Mobile Number"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:z,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"number",value:U,placeholder:"Mobile Number",name:"ph",onChange:function(e){return B(e.target.value)}})]}),Object(f.jsx)("div",{className:"box-3",children:Object(f.jsx)("button",{disabled:v,type:"submit",className:"btn btn-three w-100",children:Object(f.jsx)("span",{children:"UPDATE"})})})]})]})]})}),Object(f.jsx)("div",{className:"w-100 text-center mt-2 form-txt",children:Object(f.jsx)(g.b,{to:"/profile",children:"Cancel"})})]})}var V=c(16),q=c(96),K="select-folder",Y="update-folder",Q="set-child-folders",J="set-child-files",X={name:"Root",id:null,path:[]};function Z(e,t){var c=t.type,n=t.payload;switch(c){case K:return{folderId:n.folderId,folder:n.folder,childFiles:[],childFolders:[]};case Y:return Object(l.a)(Object(l.a)({},e),{},{folder:n.folder});case Q:return Object(l.a)(Object(l.a)({},e),{},{childFolders:n.childFolders});case J:return Object(l.a)(Object(l.a)({},e),{},{childFiles:n.childFiles});default:return e}}var $=c.p+"static/media/addFolder.be30dca1.PNG";function ee(e){var t=e.currentFolder,c=Object(n.useState)(!1),a=Object(i.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),d=o[0],j=o[1],u=p().curUser;function h(){s(!1)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{onClick:function(){s(!0)},className:"add-folder-btn",children:Object(f.jsx)("img",{alt:"",src:$})}),Object(f.jsxs)(q.a,{animation:!1,show:r,onHide:h,children:[Object(f.jsx)(_.a,{variant:"secondary",className:"btn-x",onClick:h,children:"x"}),Object(f.jsxs)(A.a,{onSubmit:function(e){if(e.preventDefault(),null!=t){var c=Object(V.a)(t.path);t!==X&&c.push({name:t.name,id:t.id}),b.folders.add({name:d,parentId:t.id,user:u.uid,path:c,date:b.getCurrentTimestamp()}),j(""),h()}},children:[Object(f.jsx)(q.a.Body,{children:Object(f.jsxs)(A.a.Group,{children:[Object(f.jsx)(A.a.Label,{children:"Folder Name"}),Object(f.jsx)(A.a.Control,{type:"text",required:!0,value:d,onChange:function(e){return j(e.target.value)}})]})}),Object(f.jsx)(q.a.Footer,{children:Object(f.jsx)(_.a,{variant:"success",type:"submit",children:"Add Folder"})})]})]})]})}function te(e){var t=e.folder,c=Object(n.useState)(!1),a=Object(i.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(!1),d=Object(i.a)(o,2),j=d[0],u=d[1],h=Object(n.useState)(!1),O=Object(i.a)(h,2),x=O[0],v=O[1],N=Object(n.useState)(""),w=Object(i.a)(N,2),y=w[0],S=w[1],E=Object(n.useState)(!1),k=Object(i.a)(E,2),C=k[0],P=k[1],R=Object(n.useState)([]),I=Object(i.a)(R,2),F=I[0],D=I[1],T=Object(n.useState)([]),G=Object(i.a)(T,2),L=G[0],U=G[1],B=Object(n.useState)(""),z=Object(i.a)(B,2),M=z[0],H=z[1],W=function(){return u(!1)},K=Object(n.useRef)(),Y=p().curUser;function Q(e){K.current.contains(e.target)||s(!1)}function J(e){var t=m.ref(e);t.listAll().then((function(e){e.items.forEach((function(e){var c,n;c=t.fullPath,n=e.name,m.ref(c).child(n).delete().then().catch((function(e){return console.log(e)}))})),e.prefixes.forEach((function(e){J(e.fullPath)}))})).catch((function(e){console.log(e)}))}function Z(e){var t;t=e.id,b.files.where("user","==",Y.uid).where("folderId","==",t).get().then((function(e){e.forEach((function(e){b.files.doc(e.id).delete().then().catch((function(e){return console.log(e)}))}))})).catch((function(e){console.log("Error getting documents: ",e)})),b.folders.where("user","==",Y.uid).where("parentId","==",e.id).get().then((function(e){e.forEach((function(e){Z(e)}))})),b.folders.doc(e.id).delete().then().catch((function(e){console.error("Error removing document: ",e)}))}return Object(n.useEffect)((function(){var e=[];b.users.where("user","==",Y.uid).get().then((function(t){t.forEach((function(t){b.users.where("org","==",t.data().org).get().then((function(t){t.forEach((function(t){e.includes(t.data())||t.data().user===Y.uid||e.push(t.data())}))}))}))})),D(e)}),[Y.uid]),Object(n.useEffect)((function(){return r?document.addEventListener("mousedown",Q):document.removeEventListener("mousedown",Q),function(){document.removeEventListener("mousedown",Q)}}),[r]),Object(f.jsxs)("div",{children:[Object(f.jsxs)(q.a,{animation:!1,show:j,onHide:W,children:[Object(f.jsxs)(q.a.Body,{children:[Object(f.jsx)(_.a,{variant:"secondary",className:"btn-x",onClick:W,children:"x"}),Object(f.jsx)("h3",{children:"Are you sure?"}),Object(f.jsx)("p",{children:"Deleting would erase all contents of this folder permanently"})]}),Object(f.jsxs)(q.a.Footer,{children:[Object(f.jsx)(_.a,{variant:"light",onClick:W,children:"No! Go back"}),Object(f.jsx)(_.a,{variant:"danger",onClick:function(){s(!1),W(),J(t===X?"files/".concat(t.user).concat(t.path.join("/")):"files/".concat(t.user).concat(t.path.join("/"),"/").concat(t.name)),Z(t)},children:"Yes! Delete"})]})]}),Object(f.jsxs)(q.a,{animation:!1,show:x,onHide:function(){return v(!1)},children:[Object(f.jsx)(_.a,{variant:"secondary",className:"btn-x",onClick:function(){return v(!1)},children:"x"}),Object(f.jsxs)(A.a,{onSubmit:function(e){e.preventDefault(),b.folders.doc(t.id).update(Object(l.a)(Object(l.a)({},t),{},{name:y})).then().catch((function(e){return console.log(e)})),s(!1),v(!1)},children:[Object(f.jsx)(q.a.Body,{children:Object(f.jsxs)(A.a.Group,{children:[Object(f.jsx)(A.a.Label,{children:"New folder Name"}),Object(f.jsx)(A.a.Control,{type:"text",required:!0,value:y,onChange:function(e){return S(e.target.value)}})]})}),Object(f.jsxs)(q.a.Footer,{children:[Object(f.jsx)(_.a,{variant:"success",type:"submit",children:"Rename"}),Object(f.jsx)(_.a,{variant:"outline-dark",onClick:function(){return v(!1)},children:"Close"})]})]})]}),Object(f.jsxs)(q.a,{animation:!1,show:C,onHide:function(){return P(!1)},children:[Object(f.jsxs)(q.a.Body,{children:[Object(f.jsx)(_.a,{variant:"secondary",className:"btn-x",onClick:function(){return P(!1)},children:"x"}),Object(f.jsx)("h3",{children:"Share this folder"}),F&&L&&L.filter((function(e){return void 0!==e})).map((function(e){return Object(f.jsxs)("div",{className:"shareItems",children:[Object(f.jsx)("button",{onClick:function(){return U(L.filter((function(t){return t!==e})))},children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#f05454",className:"bi bi-trash-fill",viewBox:"0 0 16 16",children:Object(f.jsx)("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})})}),Object(f.jsx)("p",{children:F.filter((function(t){return t.user===e}))[0].name})]},e)})),Object(f.jsx)("p",{children:"Click on the plus sign to add users"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsxs)("select",{className:"custom-select",id:"inputGroupSelect04",onChange:function(e){return H(e.target.value)},children:[Object(f.jsx)("option",{defaultValue:"1",children:"Add user to folder"}),F.map((function(e,t){return Object(f.jsxs)("option",{value:e.user,children:[" ",e.name]},t)}))]}),Object(f.jsx)("div",{className:"input-group-append",children:Object(f.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){M&&"1"!==M&&!L.includes(M)&&0!==F.filter((function(e){return e.user===M})).length&&U([].concat(Object(V.a)(L),[M]))},children:"Add"})})]})]}),Object(f.jsxs)(q.a.Footer,{children:[Object(f.jsx)(_.a,{variant:"light",onClick:function(){return P(!1)},children:"No! Go back"}),Object(f.jsx)(_.a,{variant:"success",onClick:function(){var e=L.filter((function(e){return void 0!==e}));b.folders.doc(t.id).update("shared",e).then((function(){return P(!1)})).catch((function(e){return console.log(e)}))},children:"Yes! Share em all!"})]})]}),Object(f.jsx)(_.a,{to:{pathname:"/folder/".concat(t.id),state:{folder:t}},variant:"outline-light",className:"text-truncate w-100",onContextMenu:function(e){t.user===Y.uid&&(b.folders.doc(t.id).get().then((function(e){return U(Object(V.a)(new Set(L.concat(e.data().shared))))})).catch((function(e){return console.log(e)})),e.preventDefault(),s(!0))},as:g.b,children:Object(f.jsx)("span",{className:"btn-label",children:t.name})}),r&&Object(f.jsxs)("div",{ref:K,className:"drop-down",children:[Object(f.jsx)("button",{className:"dropdown-item",onClick:function(){s(!1),v(!0)},children:"Rename"}),Object(f.jsx)("button",{className:"dropdown-item",onClick:function(){s(!1),u(!0)},children:"Delete"}),Object(f.jsx)("button",{className:"dropdown-item",onClick:function(){P(!0),s(!1)},children:"Share"})]})]})}var ce=c(102);function ne(e){var t=e.currentFolder,c=t===X?[]:[X];return t&&(c=[].concat(Object(V.a)(c),Object(V.a)(t.path))),Object(f.jsxs)(ce.a,{className:"flex-grow-1",listProps:{className:"bg-trans m-0 ml-6"},children:[c.map((function(e,t){return Object(f.jsx)(ce.a.Item,{linkAs:g.b,linkProps:{to:{pathname:e.id?"/folder/".concat(e.id):"/",state:{folder:Object(l.a)(Object(l.a)({},e),{},{path:c.slice(1,t)})}}},className:"text-truncate d-inline-block path-item",style:{maxWidth:"150px"},children:e.name},e.id)})),t&&Object(f.jsx)(ce.a.Item,{className:"text-truncate d-inline-block path-item",style:{maxWidth:"200px"},active:!0,children:t.name})]})}var ae=c.p+"static/media/addFile.801d0623.PNG",re=c(100),se=c(99),ie=c(103);function le(e){var t=e.currentFolder,c=Object(n.useState)([]),a=Object(i.a)(c,2),r=a[0],o=a[1],d=p().curUser,j=Object(re.a)();return Object(f.jsxs)("div",{children:[Object(f.jsxs)("label",{className:"add-file",children:[Object(f.jsx)("div",{className:"add-folder-btn",children:Object(f.jsx)("img",{alt:"",src:ae})}),Object(f.jsx)("input",{type:"file",onChange:function(e){var c=e.target.files[0];if(t&&c){o((function(e){return[].concat(Object(V.a)(e),[{id:j,name:c.name,progress:0,error:!1}])}));var n=t.path.map((function(e){return e.name})).join("/"),a=t===X?"".concat(n,"/").concat(c.name):"".concat(n,"/").concat(t.name,"/").concat(c.name),r=m.ref("/files/".concat(d.uid,"/").concat(a)).put(c);r.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes;o((function(e){return e.map((function(e){return e.id===j?Object(l.a)(Object(l.a)({},e),{},{progress:t}):e}))}))}),(function(){o((function(e){return e.map((function(e){return e.id===j?Object(l.a)(Object(l.a)({},e),{},{error:!0}):e}))}))}),(function(){o((function(e){return e.filter((function(e){return e.id!==j}))})),r.snapshot.ref.getDownloadURL().then((function(e){b.files.where("name","==",c.name).where("user","==",d.uid).where("folderId","==",t.id).get().then((function(n){var a=n.docs[0];a?a.ref.update({url:e}):b.files.add({url:e,name:c.name,createdAt:b.getCurrentTimestamp(),folderId:t.id,user:d.uid})}))}))}))}}})]}),r.length>0&&s.a.createPortal(Object(f.jsx)("div",{style:{position:"absolute",bottom:"1rem",left:"1rem",maxWidth:"250px"},children:r.map((function(e){return Object(f.jsxs)(se.a,{onClose:function(){o((function(t){return t.filter((function(t){return t.id!==e.id}))}))},children:[Object(f.jsx)(se.a.Header,{closeButton:e.error,className:"text-truncate w-100 d-block",children:e.name}),Object(f.jsx)(se.a.Body,{children:Object(f.jsx)(ie.a,{animated:!e.error,variant:e.error?"danger":"primary",now:e.error?100:100*e.progress,label:e.error?"Error":"".concat(Math.round(100*e.progress),"%")})})]},e.id)}))}),document.body)]})}var oe=c.p+"static/media/rabbit.6c45dcec.png",de=c.p+"static/media/defaultFile.31d6cfe0.jfif";function je(e){var t=e.file,c=Object(n.useState)(!1),a=Object(i.a)(c,2),r=a[0],s=a[1],o=Object(n.useRef)();function d(e){o.current.contains(e.target)||s(!1)}return Object(n.useEffect)((function(){return r?document.addEventListener("mousedown",d):document.removeEventListener("mousedown",d),function(){document.removeEventListener("mousedown",d)}}),[r]),Object(f.jsxs)("div",{children:[Object(f.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"file",onContextMenu:function(e){e.preventDefault(),s(!0)},children:[Object(f.jsx)("div",{className:"img-zoom",children:Object(f.jsx)("img",{src:["jpg","png","PNG","jfif","jpeg"].includes(t.name.split(".")[1])?t.url:de,alt:t.name})}),Object(f.jsx)("p",{className:"text-truncate",children:t.name})]}),r&&Object(f.jsx)("div",{ref:o,className:"drop-down",children:Object(f.jsx)("button",{className:"dropdown-item",onClick:function(e){e.preventDefault(),b.files.doc(t.id).update(Object(l.a)(Object(l.a)({},t),{},{favourite:!0})).then().catch((function(e){return console.log(e)})),s(!1)},children:"Favourite"})})]})}var ue=function(){return Object(f.jsxs)("nav",{className:"navbar navbar-dark navbar-expand-sm justify-content-between",children:[Object(f.jsx)(g.b,{to:"/",className:"navbar-brand mb-0 h1",children:"V A U L T"}),Object(f.jsxs)("ul",{className:"navbar-nav",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(g.b,{to:"/search",className:"nav-link",children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"white",className:"bi bi-search",viewBox:"0 0 16 16",children:Object(f.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(g.b,{to:"/profile",className:"nav-link",children:"Profile "})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(g.b,{to:"/fav",className:"nav-link",children:"Favourites "})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(g.b,{to:"/shared",className:"nav-link",children:"Shared with Me"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(g.b,{to:"/announce",className:"nav-link",children:"Announce "})})]})]})};var be=function(){return Object(f.jsx)("div",{className:"footer",children:Object(f.jsx)("nav",{className:"navbar navbar-dark navbar-expand-sm",children:Object(f.jsxs)("ul",{className:"navbar-nav mx-auto order-0",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(g.b,{to:"/contact",className:"nav-link",children:"Contact us"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(g.b,{to:"/",className:"nav-link",children:"Made with \u2728"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(g.b,{to:"/faq",className:"nav-link",children:"FAQ"})}),Object(f.jsx)("li",{className:"chat",children:Object(f.jsx)(g.b,{to:"/chat",className:"nav-link",children:"Chat"})})]})})})};function he(){var e=Object(O.h)().folderId,t=Object(O.g)().state,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=Object(n.useReducer)(Z,{folderId:e,folder:t,childFolders:[],childFiles:[]}),a=Object(i.a)(c,2),r=a[0],s=a[1],l=p().curUser;return Object(n.useEffect)((function(){s({type:K,payload:{folderId:e,folder:t}})}),[e,t]),Object(n.useEffect)((function(){if(null==e)return s({type:Y,payload:{folder:X}});b.folders.doc(e).get().then((function(e){s({type:Y,payload:{folder:b.formatDoc(e)}})})).catch((function(){s({type:Y,payload:{folder:X}})}))}),[e]),Object(n.useEffect)((function(){return null===e?b.folders.where("parentId","==",e).where("user","==",l.uid).orderBy("date").onSnapshot((function(e){s({type:Q,payload:{childFolders:e.docs.map(b.formatDoc)}})})):b.folders.where("parentId","==",e).onSnapshot((function(e){s({type:Q,payload:{childFolders:e.docs.map(b.formatDoc)}})}))}),[e,l]),Object(n.useEffect)((function(){return null===e?b.files.where("folderId","==",e).where("user","==",l.uid).onSnapshot((function(e){s({type:J,payload:{childFiles:e.docs.map(b.formatDoc)}})})):b.files.where("folderId","==",e).onSnapshot((function(e){s({type:J,payload:{childFiles:e.docs.map(b.formatDoc)}})}))}),[e,l]),r}(e,(void 0===t?{}:t).folder),a=c.folder,r=c.childFolders,s=c.childFiles,l=Object(n.useState)([]),o=Object(i.a)(l,2),d=o[0],j=o[1],u=Object(n.useState)(!1),h=Object(i.a)(u,2),m=h[0],x=h[1];return Object(n.useEffect)((function(){return j(Object(V.a)(r))}),[r]),Object(n.useEffect)((function(){x(!1)}),[a]),setTimeout((function(){x(!0)}),3e3),Object(f.jsxs)("div",{className:"dashboard",children:[Object(f.jsx)(ue,{}),Object(f.jsxs)("div",{className:"d-flex align-items-center",children:[Object(f.jsx)(ne,{currentFolder:a}),Object(f.jsx)(ee,{currentFolder:a}),Object(f.jsx)(le,{currentFolder:a}),Object(f.jsxs)("div",{className:"search-bar",children:[Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#05505B",className:"bi bi-search form-img",viewBox:"0 0 18 18",children:Object(f.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})}),Object(f.jsx)("input",{className:"form-input",placeholder:"Search",type:"text",onChange:function(e){return j(Object(V.a)(r.filter((function(t){return t.name.startsWith(e.target.value)}))))}})]})]}),Object(f.jsxs)("div",{className:"folder-container",children:[r.length>0&&Object(f.jsx)("div",{className:"d-flex flex-wrap",children:d.map((function(e){return Object(f.jsx)("div",{style:{maxWidth:"250px"},className:"p-2",children:Object(f.jsx)(te,{folder:e})},e.id)}))}),r.length>0&&s.length>0&&Object(f.jsx)("hr",{className:"line"}),s.length>0&&Object(f.jsx)("div",{className:"d-flex flex-wrap",children:s.map((function(e){return Object(f.jsx)("div",{style:{maxWidth:"15rem"},className:"p-2",children:Object(f.jsx)(je,{file:e})},e.id)}))})]}),m&&0===r.length&&0===s.length&&Object(f.jsxs)("div",{className:"empty-folder",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Oops! This folder is empty."}),Object(f.jsx)("h4",{children:"Add content using the buttons in the bottom-right corner."}),Object(f.jsx)("h5",{children:"Till then have a look at this cute bunny..."})]}),Object(f.jsx)("img",{src:oe,alt:""})]}),Object(f.jsx)(be,{})]})}var me=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=p().curUser;return Object(n.useEffect)((function(){b.files.where("user","==",r.uid).where("favourite","==",!0).onSnapshot((function(e){a(e.docs.map(b.formatDoc))}))}),[r]),Object(f.jsxs)("div",{children:[Object(f.jsx)(ue,{}),Object(f.jsx)("div",{className:"folder-container",children:Object(f.jsx)("div",{className:"d-flex flex-wrap",children:c.map((function(e){return Object(f.jsx)("div",{style:{maxWidth:"15rem"},className:"p-2",children:Object(f.jsx)(je,{file:e})},e.id)}))})}),0===c.length&&Object(f.jsxs)("div",{className:"empty-folder",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Oops! This folder is empty."}),Object(f.jsx)("h4",{children:"Add content using the buttons in the bottom-right corner."}),Object(f.jsx)("h5",{children:"Till then have a look at this cute bunny..."})]}),Object(f.jsx)("img",{src:oe,alt:""})]})]})};var Oe=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=p().curUser;return Object(n.useEffect)((function(){var e=[];b.folders.where("shared","array-contains",r.uid).get().then((function(t){t.forEach((function(t){return e.push(Object(l.a)({id:t.id},t.data()))})),a(Object(V.a)(new Set(e)))}))}),[r]),Object(f.jsxs)("div",{children:[Object(f.jsx)(ue,{}),Object(f.jsx)("div",{className:"folder-container",children:Object(f.jsx)("div",{className:"d-flex flex-wrap",children:c.map((function(e){return Object(f.jsx)("div",{style:{maxWidth:"250px"},className:"p-2",children:Object(f.jsx)(te,{folder:e})},e.id)}))})}),0===c.length&&Object(f.jsxs)("div",{className:"empty-folder",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Oops! This folder is empty."}),Object(f.jsx)("h4",{children:"When someone shares a folder to you, you will find it here."}),Object(f.jsx)("h5",{children:"Till then have a look at this cute bunny..."})]}),Object(f.jsx)("img",{src:oe,alt:""})]})]})};var fe=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(i.a)(r,2),o=s[0],d=s[1],j=p().curUser;return Object(n.useEffect)((function(){var e=[];b.folders.where("user","==",j.uid).get().then((function(t){t.forEach((function(t){return e.push(Object(l.a)({id:t.id},t.data()))})),a(Object(V.a)(new Set(e))),d(Object(V.a)(new Set(e)))}))}),[j]),Object(f.jsxs)("div",{className:"dashboard",children:[Object(f.jsx)(ue,{}),Object(f.jsx)("input",{className:"form-input search",placeholder:"Type to Filter",type:"text",onChange:function(e){return a(Object(V.a)(o.filter((function(t){return t.name.startsWith(e.target.value)}))))}}),Object(f.jsx)("div",{className:"folder-container",children:c.length>0&&Object(f.jsx)("div",{className:"d-flex flex-wrap",children:c.map((function(e){return Object(f.jsx)("div",{style:{maxWidth:"250px"},className:"p-2",children:Object(f.jsx)(te,{folder:e})},e.id)}))})})]})};var xe=function(){return Object(f.jsxs)("div",{className:"dashboard",children:[Object(f.jsx)(ue,{}),Object(f.jsxs)("div",{className:"folder-container",children:[Object(f.jsx)("div",{className:"card-body",children:Object(f.jsx)("h2",{className:"text-center",children:"Frequently Asked Questions [FAQ]"})}),Object(f.jsxs)("div",{className:"faq",children:[Object(f.jsx)("h4",{children:"What are the features that vault offers?"}),Object(f.jsx)("h6",{children:"1. Custom Directory Structure"}),Object(f.jsx)("h6",{children:"2. Share folders and view folders shared with you"}),Object(f.jsx)("h6",{children:"3. Announce something to selected people in your organization"}),Object(f.jsx)("h6",{children:"4. Search folders with ease"}),Object(f.jsx)("h6",{children:"5. And so much more!"}),Object(f.jsx)("h4",{children:"How to use Digital Course file?"}),Object(f.jsx)("h6",{children:"Step 1: Go to Vault dashboard"}),Object(f.jsx)("h6",{children:"Step 2: Upload files or create folders"}),Object(f.jsx)("h6",{children:"Step 3: Share and organize files and folders"}),Object(f.jsx)("h4",{children:"What all can I upload?"}),Object(f.jsx)("h6",{children:"Documents, Images, Audio, Video, Whatever you want to!"}),Object(f.jsx)("h4",{children:"How do I Upload files or make folders"}),Object(f.jsx)("h6",{children:"1. At the Bottom right, click on the Icons to upload file or create folder."}),Object(f.jsx)("h6",{children:"2. Choose the file to upload or name the folder to create"}),Object(f.jsx)("h4",{children:"How to share folders?"}),Object(f.jsx)("h6",{children:"1. Go to Profile"}),Object(f.jsx)("h6",{children:"2. Register yourself into your organisation by giving your organisation name"}),Object(f.jsx)("h6",{children:"3. Right Click the folder you want to share."}),Object(f.jsx)("h6",{children:"4. Select the members to whom you want to share"}),Object(f.jsx)("h6",{children:"5. Click Share"}),Object(f.jsx)("h4",{children:"What is the limit for creating folders?"}),Object(f.jsx)("h6",{children:"The sky is the limit! We provide infinite nesting"}),Object(f.jsx)("h4",{children:"Contact Vault support"}),Object(f.jsx)("h6",{children:"Get help with common problems above. If you need help with a different vault problem, contact us."}),Object(f.jsx)("h4",{children:"Submit user feedback"}),Object(f.jsx)("h6",{children:"If you've discovered a new bug or technical issue, report the issue right through either the contact us form or at admin@vault.com"})]})]}),Object(f.jsx)(be,{})]})},pe=c(31);var ve=function(){var e=Object(n.useState)({name:"",email:"",msg:""}),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(f.jsxs)("div",{className:"dashboard",children:[Object(f.jsx)(ue,{}),Object(f.jsx)("div",{className:"profile",children:Object(f.jsx)(k.a,{children:Object(f.jsxs)(k.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center",children:"Contact Us"}),Object(f.jsx)("h5",{children:"Got an revolutionary idea, want to tell us how we can be better or just how you liked us, give us a message! We would love to hear from you"}),Object(f.jsxs)(A.a,{onSubmit:function(e){e.preventDefault(),b.feedback.add(c).then((function(e){return a({name:"",email:"",msg:""})}))},children:[Object(f.jsxs)(A.a.Group,{id:"email",children:[Object(f.jsx)(A.a.Label,{children:"Email"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:P,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"email",name:"email",placeholder:"Enter your mail id",onChange:function(e){return a(Object(l.a)(Object(l.a)({},c),{},Object(pe.a)({},e.target.name,e.target.value)))},required:!0})]})]}),Object(f.jsxs)(A.a.Group,{id:"name",children:[Object(f.jsx)(A.a.Label,{children:"Name"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:M,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"text",placeholder:"Enter your name",onChange:function(e){return a(Object(l.a)(Object(l.a)({},c),{},Object(pe.a)({},e.target.name,e.target.value)))},name:"name"})]})]}),Object(f.jsxs)(A.a.Group,{id:"name",children:[Object(f.jsx)(A.a.Label,{children:"Message"}),Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{className:"form-input",rows:"6",cols:"50",placeholder:"Tell us what you feel",name:"msg",onChange:function(e){return a(Object(l.a)(Object(l.a)({},c),{},Object(pe.a)({},e.target.name,e.target.value)))}})})]}),Object(f.jsx)("div",{className:"box-3",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-three w-100",children:Object(f.jsx)("span",{children:"SEND"})})})]})]})})}),Object(f.jsx)(be,{})]})},ge=c(63);var Ne=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(i.a)(r,2),o=s[0],d=s[1],j=Object(n.useState)(""),u=Object(i.a)(j,2),h=u[0],m=u[1],O=p().curUser,x=Object(n.useState)({sub:"",msg:""}),v=Object(i.a)(x,2),g=v[0],N=v[1];return Object(n.useEffect)((function(){var e=[];b.users.where("user","==",O.uid).get().then((function(t){t.forEach((function(t){b.users.where("org","==",t.data().org).get().then((function(t){t.forEach((function(t){t.data().user===O.uid||e.includes(t.data())||e.push(t.data())})),a(e),d([])}))}))}))}),[O.uid]),Object(f.jsxs)("div",{className:"dashboard",children:[Object(f.jsx)(ue,{}),Object(f.jsx)("div",{className:"profile",children:Object(f.jsx)(k.a,{children:Object(f.jsxs)(k.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center",children:"Announce"}),Object(f.jsxs)(A.a,{onSubmit:function(e){e.preventDefault();var t,n="";b.users.where("user","==",O.uid).get().then((function(e){e.forEach((function(e){return t=e.data().name})),o.forEach((function(e){n+=c.filter((function(t){return t.user===e}))[0].email+", "}));var a=Object(l.a)(Object(l.a)({},g),{},{from_name:t,from_email:O.email,to_email:n.slice(0,-2)});Object(ge.a)("service_8t2kg92","template_5m2l10q",a,"user_6ewufOM5MPiYQHHqNYnnP").then((function(e){N({sub:"",msg:""}),console.log("SUCCESS!",e.status,e.text)})).catch((function(e){console.log("FAILED...",e)}))}))},children:[Object(f.jsxs)(A.a.Group,{id:"sub",children:[Object(f.jsx)(A.a.Label,{children:"Name"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:M,alt:"",className:"form-img"}),Object(f.jsx)("input",{className:"form-input",type:"text",placeholder:"Subject",onChange:function(e){return N(Object(l.a)(Object(l.a)({},g),{},Object(pe.a)({},e.target.name,e.target.value)))},name:"sub",value:g.sub})]})]}),Object(f.jsxs)(A.a.Group,{id:"msg",children:[Object(f.jsx)(A.a.Label,{children:"Message"}),Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{onChange:function(e){return N(Object(l.a)(Object(l.a)({},g),{},Object(pe.a)({},e.target.name,e.target.value)))},className:"form-input",rows:"6",cols:"50",placeholder:"Tell us what you feel",name:"msg",value:g.msg})})]}),Object(f.jsxs)(A.a.Group,{id:"toMail",children:[Object(f.jsx)(A.a.Label,{children:"Click on the plus sign to add users"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsxs)("select",{className:"custom-select form-input",onChange:function(e){return m(e.target.value)},children:[Object(f.jsx)("option",{defaultValue:"1",children:"Add user to folder"}),c.map((function(e,t){return Object(f.jsxs)("option",{value:e.user,children:[" ",e.name]},t)}))]}),Object(f.jsx)("div",{className:"input-group-append",children:Object(f.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(e){h&&"1"!==h&&!o.includes(h)&&0!==c.filter((function(e){return e.user===h})).length&&d([].concat(Object(V.a)(o),[h]))},children:"+"})})]})]}),c&&o&&o.filter((function(e){return void 0!==e})).map((function(e){return Object(f.jsxs)("div",{className:"shareItems",children:[Object(f.jsx)("button",{onClick:function(){return d(o.filter((function(t){return t!==e})))},children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#f05454",className:"bi bi-trash-fill",viewBox:"0 0 16 16",children:Object(f.jsx)("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})})}),Object(f.jsx)("p",{children:c.filter((function(t){return t.user===e}))[0].name})]},e)})),Object(f.jsx)("div",{className:"box-3",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-three w-100",children:Object(f.jsx)("span",{children:"SEND"})})})]})]})})}),Object(f.jsx)(be,{})]})},we=c(62),ye=c.p+"static/media/user.ca2ed7bc.png";var Se=function(){var e=p().curUser;function t(){var t=Object(n.useRef)(),a=b.messages,r=a.orderBy("createdAt").limit(25),s=Object(we.a)(r,{idField:"id"}),l=Object(i.a)(s,1)[0],d=Object(n.useState)(""),j=Object(i.a)(d,2),u=j[0],h=j[1],m=function(){var c=Object(S.a)(y.a.mark((function c(n){var r,s;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),r=e.uid,s=e.photoURL,c.next=4,a.add({text:u,createdAt:o.a.firestore.FieldValue.serverTimestamp(),uid:r,photoURL:s});case 4:h(""),t.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("main",{children:[l&&l.map((function(e){return Object(f.jsx)(c,{message:e},e.id)})),Object(f.jsx)("span",{ref:t})]}),Object(f.jsxs)("form",{onSubmit:m,children:[Object(f.jsx)("input",{className:"form-input",value:u,onChange:function(e){return h(e.target.value)},placeholder:"Start Connecting ..."}),Object(f.jsx)("button",{type:"submit",disabled:!u,children:"\ud83d\ude80"})]})]})}function c(t){var c=t.message,n=c.text,a=c.uid,r=c.photoURL,s=a===e.uid?"sent":"received";return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"message ".concat(s),children:[Object(f.jsx)("img",{alt:"dp",className:"profilePic",src:r||ye}),Object(f.jsx)("p",{children:n})]})})}return Object(f.jsxs)("div",{className:"dashboard",children:[Object(f.jsx)(ue,{}),Object(f.jsx)("div",{className:"chat",children:Object(f.jsx)("section",{children:e?Object(f.jsx)(t,{}):Object(f.jsx)("div",{})})})]})};var Ee=function(){return Object(f.jsx)("div",{children:Object(f.jsx)(g.a,{children:Object(f.jsx)(v,{children:Object(f.jsxs)(N.a,{children:[Object(f.jsx)(U,{exact:!0,path:"/",component:he}),Object(f.jsx)(U,{exact:!0,path:"/folder/:folderId",component:he}),Object(f.jsx)(O.b,{path:"/profile",component:T}),Object(f.jsx)(O.b,{path:"/signup",component:D}),Object(f.jsx)(O.b,{path:"/login",component:G}),Object(f.jsx)(O.b,{path:"/forgot-password",component:B}),Object(f.jsx)(O.b,{path:"/update-profile",component:W}),Object(f.jsx)(O.b,{path:"/fav",component:me}),Object(f.jsx)(O.b,{path:"/shared",component:Oe}),Object(f.jsx)(O.b,{path:"/search",component:fe}),Object(f.jsx)(O.b,{path:"/faq",component:xe}),Object(f.jsx)(O.b,{path:"/contact",component:ve}),Object(f.jsx)(O.b,{path:"/announce",component:Ne}),Object(f.jsx)(O.b,{path:"/chat",component:Se})]})})})})};c(89);s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(Ee,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.8f6b2c5f.chunk.js.map